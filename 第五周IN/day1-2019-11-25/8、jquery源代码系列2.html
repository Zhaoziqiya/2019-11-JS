<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        // function fn () {
        //     var a = 10;
        //     return function () {
        //         console.log(a);
        //     }
        // }
        // let f = fn();
        // console.log(fn()())
        
        /*
            global为了找this

            typeof this !== 'undefined' ? window : this
        
        */

        // (function(g,fn){
        //     fn(g)
        // })(this,function(){

        // })

        (function(global,factory){
            factory(global);
        })(this,function(global,NoGlobal){// NoGlobal就是undefined
            console.log(NoGlobal);

            // if (obj.x === NoGlobal)

            // }


            function myQuery (){
                // 因为不能new自己，所以创建了一个$函数作为替身，这个替身拥有myQuery所有的方法和属性
                return new fn.init; // new myQuery； // 递归
            }

            let fn = myQuery.prototype = {
                v:'x.0',
                constructor:myQuery,
                css:function () {
                    consloe.log(1);
                }
            }

            fn.init = function () {

            }
            /*
                让$的实例化对象拥有myQuery的方法
            */
           fn.init.prototype = myQuery.prototype;

           window.myQuery = $ = myQuery;

        });

        /*
            低版本中undefined会被修改
        */
        
    </script>
</body>
</html>